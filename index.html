<html>
    <head>
        <title>dom.js</title>
        <style type="text/css">

div {
    padding: 0.5em;
    clear: left;
}

#contents {
    border: 2px solid gray;
    margin: 0.5em;
}

span {
    float: left;
    width: 15em;
}
.significant {
    color: gray;
}

.covered {
    color: green;
}

.partial {
    color: orange;
}

.uncovered {
    color: red;
}
        </style>
        <script type="application/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
        <script type="application/javascript">
<!--

function txt(text) {
    return document.createTextNode(text);
}

function div() {
    var rv = document.createElement('div');
    for (var i = 0; i < arguments.length; i++) {
        rv.appendChild(arguments[i]);
    }
    return rv;
}

function span(cls, text) {
    var rv = document.createElement('span');
    rv.setAttribute('class', cls);
    rv.appendChild(txt(text));
    return rv;
}

var headers = {};
var url = 'coverage.json';

jQuery.get(url,
function(data) {
    var contents = document.getElementById('contents');

    contents.innerHTML = '';
    contents.appendChild(div(txt(new Date().toUTCString())));

    for (var filename in data) {
        var file_data = data[filename];
        var file_div = div(
            txt(' (' + Math.floor((file_data['covered'] / (1.0 * file_data['significant'])) * 100) + '%) ' + filename),
            div(
                span('significant', 'Significant: ' + file_data['significant']),
                span('covered', 'Covered: ' + file_data['covered']),
                span('partial', 'Partial: ' + file_data['partial']),
                span('uncovered', 'Uncovered: ' + file_data['partial'])));
        contents.appendChild(file_div);
    }
});

-->
        </script>
    </head>
    <body>
        <h1>dom.js</h1>
        <div id="contents">Please wait, generating profile...</div>
    </body>
</html>
