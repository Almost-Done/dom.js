<html>
    <head>
        <title>Servo WebWorkers</title>
        <script type="text/javascript; version=1.8">
var worker = new Worker('servo-worker.js');
worker.onmessage = function(event) {
    var msg = JSON.parse(event.data);
    var child = document.createElement('div');
    child.appendChild(document.createTextNode(event.data));
    document.getElementById('output').appendChild(child);
}

var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
    if (this.readyState === 4) {
        worker.postMessage({body: this.responseText});
    }
}
xhr.open('GET', 'foo.html');
xhr.send();

        </script>
    </head>
    <body>
        <h1>Servo WebWorkers</h1>
        <div id="output">

        </div>
    </body>
</html>