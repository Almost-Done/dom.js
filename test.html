<!-- View in Firefox 6 (Aurora) with WeakMap and Proxy support -->
<!-- the type attribute is to support let -->
<script src="dom.js" type="application/javascript; version=1.8">
</script>
<script>
try {
    console.log(document);
    console.log(document.nodeType, document.nodeName, document.nodeValue);
    var doctype = document.firstChild;
    console.log(doctype);
    console.log(doctype.nodeType, doctype.nodeName, doctype.nodeValue);
    var html = doctype.nextSibling;
    console.log(html);
    console.log(html.nodeType, html.nodeName, html.nodeValue);
    var head = html.firstElementChild;
    console.log(head);
    console.log(head.nodeType, head.nodeName, head.nodeValue, head.tagName);
    var title = head.lastChild;
    console.log(title);
    console.log(title.nodeType, title.nodeName, title.nodeValue, title.tagName);
    var text = title.firstChild;
    console.log(text);
    console.log(text.nodeType, text.nodeName, text.nodeValue, text.data);
    var body = head.nextSibling;
    console.log(body);
    console.log(body.nodeType, body.nodeName, body.nodeValue, body.tagName);
    
    body.setAttribute("id", "body");
    console.log(document.getElementById("body").tagName);

    head.setAttribute("id", "body");
    console.log(document.getElementById("body").tagName);

    title.setAttribute("id", "body");
    console.log(document.getElementById("body").tagName);

    html.setAttribute("id", "body");
    console.log(document.getElementById("body").tagName);

    console.log(html.getElementsByTagName("body")[0] === body);
    console.log(document.getElementsByTagName("body")[0] === body);

    title.setAttribute("class", "foo bar baz");
    console.log(document.getElementsByClassName("foo")[0].tagName);
    console.log(document.getElementsByClassName("bar")[0].tagName);
    console.log(document.getElementsByClassName("baz")[0].tagName);
    console.log(document.getElementsByClassName("foo bar")[0].tagName);
    console.log(document.getElementsByClassName("bar foo")[0].tagName);
    console.log(document.getElementsByClassName("baz foo")[0].tagName);
    console.log(document.getElementsByClassName("nope").length);
}
catch(e) {
    console.log(e.name, e.message);
    var stack = e.stack.split("\n");
    stack.forEach(function(frame) { console.log(frame); });
}
</script>
